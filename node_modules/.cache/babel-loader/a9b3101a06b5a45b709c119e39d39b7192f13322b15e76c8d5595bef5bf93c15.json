{"ast":null,"code":"import _objectSpread from\"/Users/saurabhsinha/Saurabh/akin_assignment/school-exam-system/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin}=_ref;const navigate=useNavigate();const[credentials,setCredentials]=useState({username:'',password:'',role:'student'});const handleChange=e=>{setCredentials(_objectSpread(_objectSpread({},credentials),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();// Here we'll add API integration later\n// onLogin(credentials.role);\nconsole.log(credentials);// write an api call to authenticate the user\nconst response=await axios.get('http://localhost:8081/authenticate/user',{params:credentials,headers:{'Content-Type':'application/json'}});if(response.status!==200){alert('An unexpected error occurred. Please try again.');return;}if(response.data.authenticated){navigate(credentials.role==='principal'?'/principal':'/student');}else{alert('Invalid credentials');}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-center text-3xl font-bold text-gray-900\",children:\"School Examination System\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md shadow-sm space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"username\",name:\"username\",type:\"text\",required:true,className:\"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:credentials.username,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{id:\"password\",name:\"password\",type:\"password\",required:true,className:\"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:credentials.password,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role\",className:\"block text-sm font-medium text-gray-700\",children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role\",name:\"role\",className:\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md\",value:credentials.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"option\",{value:\"principal\",children:\"Principal\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Sign in\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","navigate","credentials","setCredentials","username","password","role","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","console","log","response","get","params","headers","status","alert","data","authenticated","className","children","onSubmit","htmlFor","id","type","required","onChange"],"sources":["/Users/saurabhsinha/Saurabh/akin_assignment/school-exam-system/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Login = ({ onLogin }) => {\n  const navigate = useNavigate();\n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: '',\n    role: 'student'\n  });\n\n  const handleChange = (e) => {\n    setCredentials({\n      ...credentials,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // Here we'll add API integration later\n    // onLogin(credentials.role);\n    console.log(credentials);\n    // write an api call to authenticate the user\n    const response = await axios.get(\n        'http://localhost:8081/authenticate/user',\n        {\n          params: credentials,\n          headers: { \n            'Content-Type': 'application/json'\n          }\n        }\n      );\n      if(response.status !== 200) {\n        alert('An unexpected error occurred. Please try again.');\n        return;\n    }\n    \n      if (response.data.authenticated) {\n        navigate(credentials.role === 'principal' ? '/principal' : '/student');\n      } else {\n        alert('Invalid credentials');\n      }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow\">\n        <div>\n          <h2 className=\"text-center text-3xl font-bold text-gray-900\">\n            School Examination System\n          </h2>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"rounded-md shadow-sm space-y-4\">\n            <div>\n              <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700\">\n                Username\n              </label>\n              <input\n                id=\"username\"\n                name=\"username\"\n                type=\"text\"\n                required\n                className=\"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                value={credentials.username}\n                onChange={handleChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                className=\"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                value={credentials.password}\n                onChange={handleChange}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"role\" className=\"block text-sm font-medium text-gray-700\">\n                Role\n              </label>\n              <select\n                id=\"role\"\n                name=\"role\"\n                className=\"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md\"\n                value={credentials.role}\n                onChange={handleChange}\n              >\n                <option value=\"student\">Student</option>\n                <option value=\"principal\">Principal</option>\n              </select>\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Sign in\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}